@page
@model LandingModel
@{
    ViewData["Title"] = "Welcome";
    Layout = "_Layout";
}

<link rel="stylesheet" href="~/css/landing-page.css" asp-append-version="true" />

<div class="landing-page-wrapper">
    <!-- Animated gradient orbs for cursor interaction -->
    <div class="gradient-orb gradient-orb-1"></div>
    <div class="gradient-orb gradient-orb-2"></div>
    <div class="gradient-orb gradient-orb-3"></div>

    <div class="landing-container">
        <div class="landing-hero">
            <div class="landing-title-wrapper">
                <h1 class="landing-title">üß† AI Decision Council</h1>
            </div>
            <p class="landing-tagline">Collaborative AI-powered decision making</p>
            <p class="landing-description">
                Harness the power of multiple AI agents to gain diverse perspectives and make better decisions. 
                The AI Decision Council brings together diverse AI models to debate, refine, and deliver comprehensive recommendations.
            </p>
        </div>

        @if (!string.IsNullOrEmpty(Model.ErrorMessage))
        {
            <div class="auth-error-message">
                <div class="auth-error-icon">‚ö†Ô∏è</div>
                <div class="auth-error-text">@Model.ErrorMessage</div>
            </div>
        }

        <div class="sign-in-section">
            @if (Model.AuthenticationEnabled)
            {
                <h2 class="sign-in-title">Sign in to continue</h2>
                <p class="sign-in-subtitle">Choose your preferred authentication method</p>

                @if (!Model.EntraIdEnabled && !Model.MicrosoftAccountEnabled && !Model.GoogleEnabled)
                {
                    <div class="auth-warning-message" style="background-color: #fff3cd; color: #856404; padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem; text-align: center;">
                        No authentication providers are currently enabled. Please contact the administrator.
                    </div>
                }

                <div class="sign-in-buttons">
                    @if (Model.EntraIdEnabled)
                    {
                        <form method="post" asp-page-handler="SignInEntraId">
                            <button type="submit" class="btn-sign-in btn-entra" title="Sign in with Entra ID (Microsoft Work/School Account)">
                                <svg class="sign-in-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" fill="currentColor">
                                    <path d="M0 0h10.931v10.931H0zm12.069 0H23v10.931H12.069zM0 12.069h10.931V23H0zm12.069 0H23V23H12.069z"/>
                                </svg>
                                <span>Sign in with Entra ID</span>
                            </button>
                        </form>
                    }

                    @if (Model.MicrosoftAccountEnabled)
                    {
                        <form method="post" asp-page-handler="SignInMicrosoft">
                            <button type="submit" class="btn-sign-in btn-microsoft" title="Sign in with Microsoft (Personal)">
                                <svg class="sign-in-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" fill="currentColor">
                                    <path d="M0 0h10.931v10.931H0zm12.069 0H23v10.931H12.069zM0 12.069h10.931V23H0zm12.069 0H23V23H12.069z"/>
                                </svg>
                                <span>Sign in with Microsoft</span>
                            </button>
                        </form>
                    }

                    @if (Model.GoogleEnabled)
                    {
                        <form method="post" asp-page-handler="SignInGoogle">
                            <button type="submit" class="btn-sign-in btn-google" title="Sign in with Google">
                                <svg class="sign-in-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                                    <path id="google-red" fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"/>
                                    <path id="google-blue" fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"/>
                                    <path id="google-yellow" fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"/>
                                    <path id="google-green" fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"/>
                                    <path fill="none" d="M0 0h48v48H0z"/>
                                </svg>
                                <span>Sign in with Google</span>
                            </button>
                        </form>
                    }
                </div>
            }
            else
            {
                <h2 class="sign-in-title">Development Mode</h2>
                <p class="sign-in-subtitle">Authentication is disabled for testing</p>

                <div class="sign-in-buttons">
                    <form method="post" asp-page-handler="AccessApp">
                        <button type="submit" class="btn-sign-in btn-test-access" title="Access the application with a test account">
                            <svg class="sign-in-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                            </svg>
                            <span>Access the App</span>
                        </button>
                    </form>
                </div>
            }
        </div>
        
        <div class="landing-footer">
            <p class="landing-footer-text">
                By signing in, you agree to use this application in accordance with organizational policies.
            </p>
        </div>
    </div>
</div>

<script src="~/js/landing-page.js" asp-append-version="true"></script>